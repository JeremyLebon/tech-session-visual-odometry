<launch>

	<param name="use_sim_time" type="bool" value="True"/>

  <arg name="namespace" default="/ackermann_vehicle" />

  <!-- Stereo Odometry -->
  <node pkg="rtabmap_ros" type="stereo_odometry" name="stereo_odometry" output="screen" ns="$(arg namespace)">
     <remap from="left/image_rect"       to="stereo_camera/left/image_rect"/>
     <remap from="right/image_rect"      to="stereo_camera/right/image_rect"/>
     <remap from="left/camera_info"      to="stereo_camera/left/camera_info"/>
     <remap from="right/camera_info"     to="stereo_camera/right/camera_info"/>
     <remap from="rgbd_image"            to="stereo_camera/rgbd_image"/>

     <param name="frame_id"                 value="base_link"/>
     <param name="odom_frame_id"            value="odom"/>
     <param name="approx_sync"              value="true"/>

     <param name="Odom/Strategy"            value="0"/> <!-- 0=Frame-to-Map, 1=Frame=to=Frame -->
     <param name="Vis/EstimationType"       value="1"/> <!-- 0=3D->3D 1=3D->2D (PnP) -->
     <param name="Vis/MaxDepth"             value="0"/>
     <param name="Odom/GuessMotion"         value="true"/>
     <param name="Vis/MinInliers"           value="10"/>
     <param name="OdomF2M/BundleAdjustment" value="1"/>
     <param name="OdomF2M/MaxSize"          value="1000"/>
     <param name="GFTT/MinDistance"         value="10"/>
     <param name="GFTT/QualityLevel"        value="0.00001"/>
     <param name="GFTT/QualityLevel"        value="0.00001"/>
  </node>

  <!-- launch odom message to tf converter node -->
  <node name="odom_to_tf" pkg="message_to_tf" type="message_to_tf" ns="$(arg namespace)" args="odom"/>

</launch>
